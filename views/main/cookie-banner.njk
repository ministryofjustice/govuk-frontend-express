{% from "govuk/components/cookie-banner/macro.njk" import govukCookieBanner %}
{% if not cookies_policy %}
    {% set html %}
        <p class="govuk-body">We use some essential cookies to make this service work.</p>
        <p class="govuk-body">We’d like to set additional cookies, so we can remember your settings, understand how people use the service and make improvements.</p>
    {% endset %}

    {% set acceptHtml %}
        <p class="govuk-body">You’ve accepted additional cookies. You can <a class="govuk-link" href="#">change your cookie settings</a> at any time.</p>
    {% endset %}

    {% set rejectHtml %}
        <p class="govuk-body">You’ve rejected additional cookies. You can <a class="govuk-link" href="#">change your cookie settings</a> at any time.</p>
    {% endset %}

    {{ govukCookieBanner({
        ariaLabel: "Cookies on " + config.SERVICE_NAME,
        attributes: {id: 'cookie-banner'},
        messages: [
            {
                attributes: {id: 'default-message'},
                headingText: "Cookies on " + config.SERVICE_NAME,
                html: html,
                actions: [
                {
                    attributes: {id: 'accept-cookies'},
                    text: "Accept analytics cookies",
                    type: "button",
                    name: "cookies",
                    value: "accept"
                },
                {
                    attributes: {id: 'reject-cookies'},
                    text: "Reject analytics cookies",
                    type: "button",
                    name: "cookies",
                    value: "reject"
                },
                {
                    text: "View cookies",
                    href: "#"
                }
            ]
            },
            {
                attributes: {id: 'accepted-message'},
                html: acceptHtml,
                role: "alert",
                hidden: "true",
                actions: [
                {
                    attributes: {id: 'accepted-hide'},
                    text: "Hide cookie message",
                    type: "submit",
                    name: "cookies[hide]",
                    value: "yes"
                }
            ]
            },
            {
                attributes: {id: 'rejected-message'},
                html: rejectHtml,
                hidden: "true",
                role: "alert",
                actions: [
                {
                    text: "Hide cookie message",
                    attributes: {id: 'rejected-hide'},
                    type: "submit",
                    name: "cookies[hide]",
                    value: "yes"
                }
            ]
            }
        ]
    }) }}
{% endif %}